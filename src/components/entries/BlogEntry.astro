---
import { Image } from "astro:assets";
const { title, url, description, pubDate, author, image, tags, featured = false } = Astro.props;
---

<article
  class:list={[
    "flex flex-col flex-1 h-full",
    featured && "sm:col-span-2 lg:col-span-2",
  ]}
>
  <a href={url} title={title} class="group block">
    <div
      class:list={[
        "relative block w-full overflow-hidden rounded-2xl bg-base-100 dark:bg-base-900",
        // Keep cards aligned in a row (especially the featured + next card on desktop)
        // by using a consistent media height instead of varying aspect ratios.
        "h-60 sm:h-72 lg:h-80",
      ]}
    >
      <Image
        width={1200}
        height={630}
        src={image}
        alt={title}
        class:list={[
          "object-cover w-full h-full bg-center transition duration-500 rounded-2xl",
          "group-hover:scale-[1.03]",
        ]}
      />
    </div>
  </a>

  <div class:list={["mt-3", featured && "mt-4"]}>
    <div class="flex items-center gap-2 text-xs text-base-500 dark:text-base-400">
      {featured && (
        <span class="inline-flex items-center rounded-full bg-base-100 dark:bg-base-800 px-2 py-0.5 text-[10px] font-semibold tracking-wide text-base-900 dark:text-base-100">
          FEATURE
        </span>
      )}
      <span class="font-medium">{author}</span>
      <span aria-hidden="true">&middot;</span>
      <time datetime={pubDate}>{pubDate}</time>
    </div>

    <h3
      class:list={[
        "mt-3 text-base-900 dark:text-base-100 text-balance",
        featured ? "text-2xl sm:text-3xl font-display font-medium tracking-tight" : "text-base font-medium",
      ]}
    >
      <a href={url} class="hover:underline">{title}</a>
    </h3>

    <p
      class:list={[
        "mt-1 text-base-500 dark:text-base-400 line-clamp-2",
        featured ? "text-base sm:text-lg" : "text-sm",
      ]}
    >
      {description}
    </p>
  </div>
</article>
