@import "tailwindcss";
@plugin "@tailwindcss/forms";
@plugin "@tailwindcss/typography";
@custom-variant dark (&:where(.dark, .dark *));
@theme {
  --font-sans: "DM Sans", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  --font-display: "Montserrat", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  --font-mono: JetBrains Mono, monospace;
  /* Palette-driven Pink Pigeon theme (light + dark both stay pink) */
  --color-accent: #c62d70; /* Hibiscus */

  /* Base scale (used for both light + dark classes) */
  --color-base-50: #fefefe;  /* White */
  --color-base-100: #fff6fb; /* white + Illusion */
  --color-base-200: #fde4ef;
  --color-base-300: #f9c5de;
  --color-base-400: #f2a1c7; /* Illusion */
  --color-base-500: #e46aa3;
  --color-base-600: #c62d70; /* Hibiscus */
  /* Dark end: warm rose/cherry (avoid purple/plum) */
  --color-base-700: #8a1f49;
  --color-base-800: #5a1f2e;
  --color-base-900: #3a141d;
  --color-base-950: #230c11;
}
/* Hide elements until Alpine loads */
[x-cloak] {
  display: none !important;
}

/* CSS */
:root {
  font-family: var(--font-sans);
}
@supports (font-variation-settings: normal) {
  /* Use variable font if supported */
  :root {
    font-family: var(--font-sans);
  }
}
:root {
  /* Code blocks */
  --astro-code-color-text: var(--color-base-900);
  --astro-code-background: var(--color-base-100);
  --astro-code-token-constant: color-mix(in oklab, var(--color-base-900) 70%, transparent);
  --astro-code-token-string: var(--color-base-800);
  --astro-code-token-comment: color-mix(in oklab, var(--color-base-900) 55%, transparent);
  --astro-code-token-keyword: var(--color-accent);
  --astro-code-token-parameter: var(--color-base-900);
  --astro-code-token-function: var(--color-base-800);
  --astro-code-token-string-expression: var(--color-accent);
  --astro-code-token-punctuation: var(--color-base-900);
  --astro-code-token-link: var(--color-accent);
}

html.dark :root {
  --astro-code-color-text: var(--color-base-100);
  --astro-code-background: color-mix(in oklab, var(--color-base-950) 75%, var(--color-base-800));
  --astro-code-token-constant: color-mix(in oklab, var(--color-base-100) 70%, transparent);
  --astro-code-token-string: var(--color-base-200);
  --astro-code-token-comment: color-mix(in oklab, var(--color-base-100) 55%, transparent);
  --astro-code-token-parameter: var(--color-base-100);
  --astro-code-token-function: var(--color-base-200);
  --astro-code-token-punctuation: var(--color-base-100);
}

/* Subtle pink glow, without fighting Tailwind background utilities */
body {
  background-image:
    radial-gradient(80rem 40rem at 50% -10rem, color-mix(in oklab, var(--color-accent) 16%, transparent), transparent 60%),
    radial-gradient(55rem 35rem at 0% 25%, color-mix(in oklab, var(--color-accent) 10%, transparent), transparent 60%);
  background-attachment: fixed;
}

html.dark body {
  background-image:
    radial-gradient(90rem 50rem at 50% -20rem, color-mix(in oklab, var(--color-accent) 12%, transparent), transparent 60%),
    radial-gradient(60rem 40rem at 100% 0%, color-mix(in oklab, var(--color-accent) 8%, transparent), transparent 60%);
}

::selection {
  background: color-mix(in oklab, var(--color-accent) 35%, var(--color-base-50));
  color: var(--color-base-950);
}

html.dark ::selection {
  background: color-mix(in oklab, var(--color-accent) 35%, var(--color-base-900));
  color: white;
}

:focus-visible {
  outline: 2px solid color-mix(in oklab, var(--color-accent) 55%, transparent);
  outline-offset: 3px;
}
