---
import BaseLayout from "@/layouts/BaseLayout.astro";
import { Image } from "astro:assets";
import { getEntry } from "astro:content";

const about = await getEntry("pages", "about");
if (!about) {
  throw new Error("Missing content: src/content/pages/about.md");
}

const { Content } = await about.render();
---

<BaseLayout>
  <section class="overflow-x-hidden">
    <div class="pt-4 pb-24">
      <div
        class:list={[
          "grid gap-10 lg:gap-14 items-start justify-items-center lg:justify-items-start",
          about.data.image ? "lg:grid-cols-2" : "lg:grid-cols-1",
        ]}
      >
        {about.data.image ? (
          <div class="group lg:sticky lg:top-10 w-[16rem] sm:w-[22rem] lg:w-full">
            <Image
              width={1400}
              height={1750}
              src={about.data.image.url}
              alt={about.data.image.alt || about.data.title}
              class="object-cover object-center w-full aspect-square sm:aspect-[3/4] rounded-3xl ring-1 ring-base-200/70 dark:ring-base-800/60 shadow-[0_20px_60px_-30px_rgba(0,0,0,0.35)] transition duration-500 group-hover:scale-[1.02]"
            />
          </div>
        ) : null}

        <div class="w-full px-4 sm:px-6 lg:px-0 max-w-xl mx-auto lg:mx-0 text-center lg:text-left">
          <p class="text-xs font-medium tracking-[0.18em] text-base-600 dark:text-base-400">
            ABOUT
          </p>

          <h1 class="mt-4 text-3xl sm:text-4xl text-balance font-medium font-display text-base-900 dark:text-base-100">
            {about.data.title}
          </h1>

          {about.data.description ? (
            <p class="mt-4 text-base text-base-600 dark:text-base-300 text-balance">
              <em>{about.data.description}</em>
            </p>
          ) : null}

          <div class="prose prose-base dark:prose-invert max-w-none mt-10 text-left break-words [&_a]:break-all">
            <Content />
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>


